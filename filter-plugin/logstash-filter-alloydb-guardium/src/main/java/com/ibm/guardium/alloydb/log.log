2025-09-17 17:58:10 DEBUG Agent:189 - queue size ( proto message was added ): 1 alloydb:11:0000:0000:0000:0000:0000:FFFF:0000:0000:0:UC1
2025-09-17 17:58:10 DEBUG Guardium:72 - ==========Event { "GuardRecord" : "{"connectorName":"alloydb","connectorId":"11","sessionId":"N.A.","dbName":"postgres","appUserName":"N.A.","time":{"timstamp":1758131888144,"minOffsetFromGMT":0,"minDst":0},"sessionLocator":{"clientIp":"0.0.0.0","clientPort":-1,"serverIp":"0.0.0.0","serverPort":-1,"isIpv6":true,"clientIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000","serverIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000"},"accessor":{"dbUser":"postgres","serverType":"ALLOYDB","serverOs":"","clientOs":"","clientHostName":"","serverHostName":"","commProtocol":"","dbProtocol":"ALLOYDB","dbProtocolVersion":"","osUser":"N.A.","sourceProgram":"","client_mac":"","serverDescription":"","serviceName":"","language":"PGRS","dataType":"TEXT"},"data":null,"exception":{"exceptionTypeId":"SQL_ERROR","description":"  [parse_relation.c:1452]  relation \"employes\" does not exist at character 15","sqlString":"N.A."},"recordsAffected":null}","@version" : "1","message" : "{"insertId":"s=e839ffda58874d68b3330617daee3ed8;i=4ec5bc6;b=e9292a297c8c447ea7efe8b2bb0b6a03;m=a2e4687861;t=63f02faa941b5;x=9deb9c2669301975-0-0@a1","labels":{"CONSUMER_PROJECT":"charged-mind-281913","CONSUMER_PROJECT_NUMBER":"485533885456","DATABASE_VERSION":"POSTGRES_16","NODE_ID":"k351"},"logName":"projects/charged-mind-281913/logs/alloydb.googleapis.com%2Fpostgres.log","receiveTimestamp":"2025-09-17T17:58:08.97993018Z","resource":{"labels":{"cluster_id":"glenn-alloydb-cluster","instance_id":"glenn-alloydb-cluster-primary","location":"us-east4","resource_container":"projects/485533885456"},"type":"alloydb.googleapis.com/Instance"},"severity":"ERROR","textPayload":"2025-09-17 17:58:08.144 UTC [2909577]: [2-1] db=postgres,user=postgres ERROR:  [parse_relation.c:1452]  relation \"employes\" does not exist at character 15","timestamp":"2025-09-17T17:58:08.144821Z"}","@timestamp" : "2025-09-17T17:58:09.688776096Z","type" : "alloydb","host" : "" }
2025-09-17 17:58:10 DEBUG Agent:189 - queue size ( proto message was added ): 1 alloydb:11:0000:0000:0000:0000:0000:FFFF:0000:0000:0:UC1
2025-09-17 17:58:10 DEBUG UniversalConnector:151 - Message was dispatched to agent
2025-09-17 17:58:10 DEBUG Guardium:78 - ==========Record {"connectorName":"alloydb","connectorId":"11","sessionId":"N.A.","dbName":"postgres","appUserName":"N.A.","time":{"timstamp":1758131888144,"minOffsetFromGMT":0,"minDst":0},"sessionLocator":{"clientIp":"0.0.0.0","clientPort":-1,"serverIp":"0.0.0.0","serverPort":-1,"isIpv6":true,"clientIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000","serverIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000"},"accessor":{"dbUser":"postgres","serverType":"ALLOYDB","serverOs":"","clientOs":"","clientHostName":"","serverHostName":"","commProtocol":"","dbProtocol":"ALLOYDB","dbProtocolVersion":"","osUser":"N.A.","sourceProgram":"","client_mac":"","serverDescription":"","serviceName":"","language":"PGRS","dataType":"TEXT"},"data":null,"exception":{"exceptionTypeId":"SQL_ERROR","description":"  [parse_relation.c:1452]  relation \"employes\" does not exist at character 15","sqlString":"N.A."},"recordsAffected":null}
2025-09-17 17:58:10 DEBUG Guardium:91 - ==========Finished one event, total events size is 1
2025-09-17 17:58:10 DEBUG UniversalConnector:145 - Message to be dispatched to agent {"connectorName":"alloydb","connectorId":"11","sessionId":"N.A.","dbName":"postgres","appUserName":"N.A.","time":{"timstamp":1758131888144,"minOffsetFromGMT":0,"minDst":0},"sessionLocator":{"clientIp":"0.0.0.0","clientPort":-1,"serverIp":"0.0.0.0","serverPort":-1,"isIpv6":true,"clientIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000","serverIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000"},"accessor":{"dbUser":"postgres","serverType":"ALLOYDB","serverOs":"","clientOs":"","clientHostName":"","serverHostName":"","commProtocol":"","dbProtocol":"ALLOYDB","dbProtocolVersion":"","osUser":"N.A.","sourceProgram":"","client_mac":"","serverDescription":"","serviceName":"","language":"PGRS","dataType":"TEXT"},"data":null,"exception":{"exceptionTypeId":"SQL_ERROR","description":"  [parse_relation.c:1452]  relation \"employes\" does not exist at character 15","sqlString":"N.A."},"recordsAffected":null}
2025-09-17 17:58:10 ERROR UniversalConnector:154 - Failed to sendRecord from universal connector
java.lang.NullPointerException: null
	at com.ibm.guardium.proto.datasource.Datasource$Application_data$Builder.setText(Datasource.java:4720) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.trimAndSet(JsonRecordTransformer.java:263) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.buildAppplicationData(JsonRecordTransformer.java:461) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.transform(JsonRecordTransformer.java:57) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.UniversalConnector.sendRecord(UniversalConnector.java:149) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.plugins.Guardium.output(Guardium.java:81) ~[logstash-output-guardium-1.5.3.jar:?]
	at org.logstash.config.ir.compiler.JavaOutputDelegatorExt.outputRubyEvents(JavaOutputDelegatorExt.java:92) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.JavaOutputDelegatorExt.doOutput(JavaOutputDelegatorExt.java:115) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.AbstractOutputDelegatorExt.lambda$multiReceive$0(AbstractOutputDelegatorExt.java:121) ~[logstash-core.jar:?]
	at co.elastic.logstash.api.TimerMetric.lambda$time$0(TimerMetric.java:35) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) ~[logstash-core.jar:?]
	at co.elastic.logstash.api.TimerMetric.time(TimerMetric.java:34) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.AbstractOutputDelegatorExt.multiReceive(AbstractOutputDelegatorExt.java:121) ~[logstash-core.jar:?]
	at org.logstash.generated.CompiledDataset8.compute(Unknown Source) ~[?:?]
	at org.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.compute(CompiledPipeline.java:351) ~[logstash-core.jar:?]
	at org.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.compute(CompiledPipeline.java:341) ~[logstash-core.jar:?]
	at org.logstash.execution.ObservedExecution.lambda$compute$0(ObservedExecution.java:17) ~[logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.lambda$observeExecutionComputation$0(WorkerObserver.java:39) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) ~[logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.lambda$executeWithTimers$1(WorkerObserver.java:50) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) [logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.executeWithTimers(WorkerObserver.java:50) [logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.observeExecutionComputation(WorkerObserver.java:38) [logstash-core.jar:?]
	at org.logstash.execution.ObservedExecution.compute(ObservedExecution.java:17) [logstash-core.jar:?]
	at org.logstash.execution.WorkerLoop.abortableCompute(WorkerLoop.java:113) [logstash-core.jar:?]
	at org.logstash.execution.WorkerLoop.run(WorkerLoop.java:86) [logstash-core.jar:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(JavaMethod.java:300) [jruby.jar:?]
	at org.jruby.javasupport.JavaMethod.invokeDirect(JavaMethod.java:164) [jruby.jar:?]
	at org.jruby.java.invokers.InstanceMethodInvoker.call(InstanceMethodInvoker.java:32) [jruby.jar:?]
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:193) [jruby.jar:?]
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:350) [jruby.jar:?]
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:66) [jruby.jar:?]
	at org.jruby.ir.interpreter.Interpreter.INTERPRET_BLOCK(Interpreter.java:116) [jruby.jar:?]
	at org.jruby.runtime.MixedModeIRBlockBody.commonYieldPath(MixedModeIRBlockBody.java:136) [jruby.jar:?]
	at org.jruby.runtime.IRBlockBody.call(IRBlockBody.java:66) [jruby.jar:?]
	at org.jruby.runtime.IRBlockBody.call(IRBlockBody.java:58) [jruby.jar:?]
	at org.jruby.runtime.Block.call(Block.java:144) [jruby.jar:?]
	at org.jruby.RubyProc.call(RubyProc.java:352) [jruby.jar:?]
	at org.jruby.internal.runtime.RubyRunnable.run(RubyRunnable.java:111) [jruby.jar:?]
	at java.lang.Thread.run(Thread.java:840) [?:?]
2025-09-17 17:58:10 DEBUG Agent:189 - queue size ( proto message was added ): 1 alloydb:11:0000:0000:0000:0000:0000:FFFF:0000:0000:0:UC1
2025-09-17 17:58:10 DEBUG Agent:189 - queue size ( proto message was added ): 1 alloydb:11:0000:0000:0000:0000:0000:FFFF:0000:0000:0:UC1
2025-09-17 17:58:10 DEBUG Agent:189 - queue size ( proto message was added ): 1 alloydb:11:0000:0000:0000:0000:0000:FFFF:0000:0000:0:UC1
2025-09-17 17:58:10 DEBUG UniversalConnector:151 - Message was dispatched to agent
2025-09-17 17:58:10 DEBUG Guardium:91 - ==========Finished one event, total events size is 1
2025-09-17 17:58:10 ERROR Guardium:89 - Failed to handle event { "GuardRecord" : "{"connectorName":"alloydb","connectorId":"11","sessionId":"N.A.","dbName":"postgres","appUserName":"N.A.","time":{"timstamp":1758131888144,"minOffsetFromGMT":0,"minDst":0},"sessionLocator":{"clientIp":"0.0.0.0","clientPort":-1,"serverIp":"0.0.0.0","serverPort":-1,"isIpv6":true,"clientIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000","serverIpv6":"0000:0000:0000:0000:0000:FFFF:0000:0000"},"accessor":{"dbUser":"postgres","serverType":"ALLOYDB","serverOs":"","clientOs":"","clientHostName":"","serverHostName":"","commProtocol":"","dbProtocol":"ALLOYDB","dbProtocolVersion":"","osUser":"N.A.","sourceProgram":"","client_mac":"","serverDescription":"","serviceName":"","language":"PGRS","dataType":"TEXT"},"data":{"construct":null,"originalSqlCommand":null},"exception":null,"recordsAffected":null}","@version" : "1","message" : "{"insertId":"s=e839ffda58874d68b3330617daee3ed8;i=4ec5bc5;b=e9292a297c8c447ea7efe8b2bb0b6a03;m=a2e4687805;t=63f02faa94159;x=93794d6a7e284661-0-0@a1","labels":{"CONSUMER_PROJECT":"charged-mind-281913","CONSUMER_PROJECT_NUMBER":"485533885456","DATABASE_VERSION":"POSTGRES_16","NODE_ID":"k351"},"logName":"projects/charged-mind-281913/logs/alloydb.googleapis.com%2Fpostgres.log","receiveTimestamp":"2025-09-17T17:58:08.97993018Z","resource":{"labels":{"cluster_id":"glenn-alloydb-cluster","instance_id":"glenn-alloydb-cluster-primary","location":"us-east4","resource_container":"projects/485533885456"},"type":"alloydb.googleapis.com/Instance"},"severity":"INFO","textPayload":"2025-09-17 17:58:08.144 UTC [2909577]: [1-1] db=postgres,user=postgres LOG:  [postgres.c:1214]  statement: SELECT * from employes;","timestamp":"2025-09-17T17:58:08.144729Z"}","@timestamp" : "2025-09-17T17:58:09.688666311Z","type" : "alloydb","host" : "" }
com.ibm.guardium.universalconnector.exceptions.GuardUCException: Failed to sendRecord from universal connector
	at com.ibm.guardium.universalconnector.UniversalConnector.sendRecord(UniversalConnector.java:155) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.plugins.Guardium.output(Guardium.java:81) ~[logstash-output-guardium-1.5.3.jar:?]
	at org.logstash.config.ir.compiler.JavaOutputDelegatorExt.outputRubyEvents(JavaOutputDelegatorExt.java:92) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.JavaOutputDelegatorExt.doOutput(JavaOutputDelegatorExt.java:115) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.AbstractOutputDelegatorExt.lambda$multiReceive$0(AbstractOutputDelegatorExt.java:121) ~[logstash-core.jar:?]
	at co.elastic.logstash.api.TimerMetric.lambda$time$0(TimerMetric.java:35) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) ~[logstash-core.jar:?]
	at co.elastic.logstash.api.TimerMetric.time(TimerMetric.java:34) ~[logstash-core.jar:?]
	at org.logstash.config.ir.compiler.AbstractOutputDelegatorExt.multiReceive(AbstractOutputDelegatorExt.java:121) ~[logstash-core.jar:?]
	at org.logstash.generated.CompiledDataset8.compute(Unknown Source) ~[?:?]
	at org.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.compute(CompiledPipeline.java:351) ~[logstash-core.jar:?]
	at org.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.compute(CompiledPipeline.java:341) ~[logstash-core.jar:?]
	at org.logstash.execution.ObservedExecution.lambda$compute$0(ObservedExecution.java:17) ~[logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.lambda$observeExecutionComputation$0(WorkerObserver.java:39) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) ~[logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.lambda$executeWithTimers$1(WorkerObserver.java:50) ~[logstash-core.jar:?]
	at org.logstash.instrument.metrics.timer.ConcurrentLiveTimerMetric.time(ConcurrentLiveTimerMetric.java:47) [logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.executeWithTimers(WorkerObserver.java:50) [logstash-core.jar:?]
	at org.logstash.execution.WorkerObserver.observeExecutionComputation(WorkerObserver.java:38) [logstash-core.jar:?]
	at org.logstash.execution.ObservedExecution.compute(ObservedExecution.java:17) [logstash-core.jar:?]
	at org.logstash.execution.WorkerLoop.abortableCompute(WorkerLoop.java:113) [logstash-core.jar:?]
	at org.logstash.execution.WorkerLoop.run(WorkerLoop.java:86) [logstash-core.jar:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(JavaMethod.java:300) [jruby.jar:?]
	at org.jruby.javasupport.JavaMethod.invokeDirect(JavaMethod.java:164) [jruby.jar:?]
	at org.jruby.java.invokers.InstanceMethodInvoker.call(InstanceMethodInvoker.java:32) [jruby.jar:?]
	at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:193) [jruby.jar:?]
	at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:350) [jruby.jar:?]
	at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:66) [jruby.jar:?]
	at org.jruby.ir.interpreter.Interpreter.INTERPRET_BLOCK(Interpreter.java:116) [jruby.jar:?]
	at org.jruby.runtime.MixedModeIRBlockBody.commonYieldPath(MixedModeIRBlockBody.java:136) [jruby.jar:?]
	at org.jruby.runtime.IRBlockBody.call(IRBlockBody.java:66) [jruby.jar:?]
	at org.jruby.runtime.IRBlockBody.call(IRBlockBody.java:58) [jruby.jar:?]
	at org.jruby.runtime.Block.call(Block.java:144) [jruby.jar:?]
	at org.jruby.RubyProc.call(RubyProc.java:352) [jruby.jar:?]
	at org.jruby.internal.runtime.RubyRunnable.run(RubyRunnable.java:111) [jruby.jar:?]
	at java.lang.Thread.run(Thread.java:840) [?:?]
Caused by: java.lang.NullPointerException
	at com.ibm.guardium.proto.datasource.Datasource$Application_data$Builder.setText(Datasource.java:4720) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.trimAndSet(JsonRecordTransformer.java:263) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.buildAppplicationData(JsonRecordTransformer.java:461) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.transformer.JsonRecordTransformer.transform(JsonRecordTransformer.java:57) ~[logstash-output-guardium-1.5.3.jar:?]
	at com.ibm.guardium.universalconnector.UniversalConnector.sendRecord(UniversalConnector.java:149) ~[logstash-output-guardium-1.5.3.jar:?]
	... 39 more
